[package]
name = "openbook-v2-fuzz"
version = "0.0.0"
publish = false
edition = "2021"

[package.metadata]
cargo-fuzz = true

[dependencies]
anchor-lang = "0.27.0"
arbitrary = { version = "~1.0", features = ["derive"] }
bumpalo = "3.13.0"
fixed = {path = "../../../3rdparty/fixed", version = "1.11.0", features = ["serde", "borsh", "debug-assert-in-release", "arbitrary"]}
libfuzzer-sys = "0.4"
solana-program = "~1.14.16"
solana-runtime = "~1.14.16"
spl-associated-token-account = { version = "^1.0.3", features = ["no-entrypoint"] }
spl-token = "3.5.0"
solana-sdk = "~1.14.16"

[patch.crates-io]
anchor-syn = { path = "../../../3rdparty/anchor/lang/syn" }

[dependencies.openbook-v2]
path = ".."
features = ["enable-gpl", "arbitrary"]

# Prevent this from interfering with workspaces
[workspace]
members = ["."]

[profile.release]
debug = 1

[[bin]]
name = "multiple_orders"
path = "fuzz_targets/multiple_orders.rs"
test = false
doc = false
